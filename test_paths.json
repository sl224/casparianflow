[
  {
    "id": "home-startup",
    "view": "Home",
    "entry": [],
    "actions": [
      {
        "keys": "",
        "expect": "Casparian Flow - Home"
      },
      {
        "keys": "",
        "expect": "Discover"
      }
    ],
    "exit": [],
    "spec_reference": "specs/rule_builder.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/home.rs"
    ]
  },
  {
    "id": "discover-enter",
    "view": "Home",
    "entry": [],
    "actions": [
      {
        "keys": "1",
        "expect": "Rule Builder"
      },
      {
        "keys": "",
        "expect": "Tags"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/discover.rs"
    ]
  },
  {
    "id": "discover-sources-dropdown",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "1",
        "expect": "Rule Builder"
      },
      {
        "keys": "Escape",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md Section 6.1",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/discover.rs"
    ]
  },
  {
    "id": "discover-tags-dropdown",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "2",
        "expect": "Rule Builder"
      },
      {
        "keys": "Escape",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md Section 6.2",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/discover.rs"
    ]
  },
  {
    "id": "discover-rule-builder-open",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "n",
        "expect": "Create Rule|Edit Rule"
      }
    ],
    "exit": [
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md Section 4",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/rule_builder.rs"
    ]
  },
  {
    "id": "rule-builder-suggestions-clarity",
    "view": "RuleBuilder",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "",
        "expect": "SUGGESTIONS",
        "expect_rules": [
          "must_show_suffix",
          "must_differentiate"
        ]
      }
    ],
    "exit": [
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md Section 6",
    "relevant_files": [
      "crates/casparian/src/cli/tui/ui.rs",
      "crates/casparian/src/cli/tui/extraction.rs"
    ]
  },
  {
    "id": "discover-rules-manager",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "R",
        "expect": "Rules"
      },
      {
        "keys": "Escape",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/rules_manager.rs"
    ]
  },
  {
    "id": "discover-sources-manager",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "M",
        "expect": "Sources Manager"
      },
      {
        "keys": "Escape",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/sources_manager.rs"
    ]
  },
  {
    "id": "discover-help-overlay",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "?",
        "expect": "Help"
      },
      {
        "keys": "?",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md Section 9",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/help.rs"
    ]
  },
  {
    "id": "discover-scan-dialog",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "s",
        "expect": "Scan"
      },
      {
        "keys": "Escape",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/scan_dialog.rs"
    ]
  },
  {
    "id": "discover-glob-pattern",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "/",
        "expect": "Enter"
      },
      {
        "keys": "Escape",
        "expect": "Rule Builder"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/rule_builder.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/glob_explorer.rs"
    ]
  },
  {
    "id": "parser-bench-enter",
    "view": "Home",
    "entry": [],
    "actions": [
      {
        "keys": "2",
        "expect": "Parser"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/parser_bench.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/parser_bench.rs"
    ]
  },
  {
    "id": "jobs-enter",
    "view": "Home",
    "entry": [],
    "actions": [
      {
        "keys": "3",
        "expect": "Jobs"
      }
    ],
    "exit": [
      "Escape",
      "Escape"
    ],
    "spec_reference": "specs/tui.md",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs",
      "crates/casparian/src/cli/tui/jobs.rs"
    ]
  },
  {
    "id": "home-return",
    "view": "Discover",
    "entry": [
      "1"
    ],
    "actions": [
      {
        "keys": "0",
        "expect": "Casparian Flow - Home"
      }
    ],
    "exit": [],
    "spec_reference": "specs/rule_builder.md Section 9",
    "relevant_files": [
      "crates/casparian/src/cli/tui/app.rs"
    ]
  }
]
