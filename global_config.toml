# Casparian Flow Configuration
# v5.0 Bridge Mode

# =============================================================================
# Logging Configuration
# =============================================================================
[logging]
level = "INFO"
log_to_file = false
log_file = "casparian_flow.log"
rotation_size_mb = 10
rotation_backup_count = 5

# =============================================================================
# Database Configuration
# =============================================================================
# SQLite (default)
[database]
type = "sqlite3"
db_location = "casparian_flow.sqlite3"
in_memory = false

# MSSQL (uncomment to use)
# [database]
# type = "mssql"
# server_name = "YOUR_SERVER_NAME"
# db_name = "YOUR_DATABASE_NAME"
# driver = "{ODBC Driver 17 for SQL Server}"
# trusted_connection = "no"
# username = ""
# password = ""

# =============================================================================
# v5.0 Bridge Mode: Security Configuration
# =============================================================================
[security]
# Authentication mode: "local" (zero friction) or "entra" (Azure AD)
auth_mode = "local"

# Local mode settings
# api_key = ""  # Optional: shared secret for API authentication
# keys_dir = ""  # Optional: custom directory for signing keys

# Enterprise (Entra) mode settings (uncomment for Azure AD)
# azure_tenant_id = "YOUR_TENANT_ID"
# azure_client_id = "YOUR_CLIENT_ID"
# publisher_group_oid = "YOUR_SECURITY_GROUP_OID"  # Casparian_Publishers group

# =============================================================================
# v5.0 Bridge Mode: Execution Configuration
# =============================================================================
[bridge]
# Enable isolated venv execution (false = legacy host process only)
enabled = true

# Venv cache settings
# venvs_dir = "~/.casparian_flow/venvs"  # Default location
max_cache_size_gb = 10.0  # Max disk usage for cached venvs

# Execution timeouts
execution_timeout_seconds = 300  # 5 minutes
socket_timeout_seconds = 30

# Python version constraint (comment out to use system default)
# python_version = "3.11"
